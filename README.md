# DrawingMap
画布-前端训练项目

## 已实现功能

### 基础功能
- 整体UI布局
- 工具栏拖动
- 画布无极放大与拖动
- 画布重置

### 绘制与编辑功能
- 支持绘制矩形、圆形、三角形
- 支持绘制富文本
- 支持图像导入并预览后放置(bug)
- 选择工具：点击已绘制对象可选中，参数面板修改立即应用，仅限矩形\三角形\圆形
- 图形样式：颜色、大小、透明度、边框宽度、边框颜色
- 文本样式：字体（font-family）、字号（font-size）、颜色（color）、背景色（background）、BIUS（加粗/斜体/下划线/删除线）
- 文本内容源于参数面板输入，不再使用弹窗
- 橡皮擦工具：左键按下并拖动可删除所经对象


## 新增功能与使用说明（2025-11）

### 参数设置面板
- 顶部：画布缩放滑块（显示当前缩放百分比）
- 形状工具（矩形/圆形/三角形）：
  - 颜色、大小、透明度、边框宽度与边框颜色
  - 选中对象后修改即刻生效
- 文本工具：
  - 字体、字号、颜色、背景色、BIUS（加粗/斜体/下划线/删除线）
  - 文本内容输入框：在此输入，选择文本工具后点击画布直接放置，不弹窗

### 工具栏与画布交互
- 选择：点击对象选中，右侧参数修改实时应用；点击空白不绘制
- 文本：在参数面板输入“文本内容”，选择文本工具后点击画布放置
- 形状：选择矩形/圆形/三角形后点击画布放置；可在面板调整样式
- 图像：选择“图像”工具将弹出文件选择，预览跟随鼠标，点击放置(bug)
- 橡皮擦：选择“橡皮擦”后按住左键拖动擦除，右键仍为拖动画布


## 快速开始

```bash
npm install
npm run dev
# 打开 http://localhost:5173/
```

## 技术栈与关键文件

- 技术栈：`Vue 3`、`Pinia`、`Pixi.js 8`、`Ant Design Vue`、`Vite`
- 关键文件：
  - 画布页面：`src/Main-page/page.vue`
  - 参数面板：`src/Param-Controller/paramctl.vue`
  - 工具栏：`src/Toolbar/toolbar.vue`
  - 画布仓库：`src/Main-page/Store/canvasStore.js`
  - 渲染器：`src/renderer/Renderer.js`

## 开发分支
- 基础功能：main分支
- 绘制功能：test分支

## 问题记录
### 11.30 问题：上传图像时，无法渲染到指定位置
### 11.28 问题：绘制元素时，鼠标点击位置与实际绘制位置偏移
- 问题描述：在绘制矩形、圆形、三角形等元素时，鼠标点击位置与实际绘制位置存在偏移，元素会显示在画面左上角，拖动画布时才会出现在正确位置。
- 问题分析：pixi世界坐标在点击时没有立刻渲染到画布上，导致元素显示在错误位置。
- 解决方法：在点击绘制工具时，先初步渲染元素的参数，待点击时渲染元素的位置。
